<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Juice Vidda</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    background: #f4fff4;
  }
 header {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  height: 100vh; /* üëâ ocupa toda la pantalla */
  background: linear-gradient(90deg, #a8ff78, #78ffd6);
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  color: #4CAF50;
  position: relative;
}
  header img {
    max-width: 150px;
    border-radius: 50%;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  }
  nav {
    background: #4CAF50;
    padding: 12px;
    text-align: center;
  }
  nav button {
    background: white;
    color: #4CAF50;
    border: none;
    padding: 10px 20px;
    margin: 5px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 8px;
  }
  nav button:hover {
    background: #3d8f40;
    color: white;
    transform: scale(1.05);
  } 

.scroll-btn {
  background: white;
  color: #4CAF50;
  border: none;
  padding: 10px 20px;
  margin: 5px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  transition: all 0.3s ease;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  text-decoration: none; /* quitar subrayado */
} 
 .scroll-btn:hover {
  background: #3d8f40;
    color: white;
    transform: scale(1.05);
}


  

  /* Carrusel horizontal */
  .carrusel {
    overflow-x: auto;
    scroll-behavior: smooth;
    display: flex;
    gap: 20px;
    padding: 20px;
  }
  .producto {
    flex: 0 0 220px;
    background: #fff;
    padding: 15px;
    border-radius: 12px;
    text-align: center;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .producto:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
  }
  .producto img {
    width: 100%;
    height: 150px;
    object-fit: cover;
    border-radius: 8px;
    margin-bottom: 10px;
  }
  .producto h3 {
    margin: 5px 0;
    font-size: 16px;
    color: #333;
  }
  .producto p {
    margin: 5px 0;
    font-weight: bold;
    color: #444;
  }
  .producto input {
    width: 60px;
    text-align: center;
    margin-top: 5px;
  }
  button {
    background: #4CAF50;
    color: #fff;
    border: none;
    padding: 8px 12px;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 10px;
    transition: all 0.3s ease;
  }
  button:hover {
    background: #3d8f40;
    transform: scale(1.05);
  }
  #carrito, #login, #pago, #perfil {
    display: none;
    padding: 20px;
    max-width: 600px;
    margin: auto;
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 6px 15px rgba(0,0,0,0.15);
    animation: fadeIn 0.5s;
  }
  h2 { text-align: center; }
  .recomendaciones {
    display: flex;
    gap: 20px;
    justify-content: center;
    flex-wrap: wrap;
    margin-top: 20px;
  }
  .recomendaciones .producto { width: 200px; }
  #mensaje-carrito {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #4CAF50;
    color: white;
    padding: 12px 20px;
    border-radius: 8px;
    display: none;
    font-size: 14px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    z-index: 1000;
    animation: fadeInOut 2s forwards;
  }
  @keyframes fadeIn { from {opacity:0;} to{opacity:1;} }
  @keyframes fadeInOut { 0%{opacity:0;} 10%{opacity:1;} 90%{opacity:1;} 100%{opacity:0;} }
  #recuadro-foto {
    width: 150px; height: 150px; border: 2px solid #4CAF50;
    border-radius: 12px; overflow: hidden; display: flex;
    justify-content: center; align-items: center; margin-top: 10px;
  }
  #foto-perfil-mostrar { display:none; width:100%; height:100%; object-fit:cover; }

  /* ‚úÖ PORTADA */
  .hero {
    height: 100vh;
    background: linear-gradient(90deg, #a8ff78, #78ffd6);
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: #333;
    padding: 20px;
  }
  .hero-content {
    max-width: 900px;
  }

   .hero-content h1 {
  font-size: 3rem;   /* t√≠tulo grande */
  font-weight: bold;
  color: black;    /* opcional: color m√°s oscuro para contraste */
  margin-bottom: 15px;
}

.hero-content p {
  font-size: 1.4rem;  /* texto m√°s grande */
  line-height: 1.6;   /* separaci√≥n entre l√≠neas para que respire */
  color: #333;
  max-width: 700px;   /* limitar ancho para mejor lectura */
  margin: auto;
}

  .logo-cuadrado {
    width: 120px;
    height: 120px;
    object-fit: cover;
    border-radius: 20px;
    margin-bottom: 20px;
  }
  .btn {
    display: inline-block;
    margin-top: 20px;
    padding: 12px 25px;
    background: #ff6600;
    color: white;
    text-decoration: none;
    font-weight: bold;
    border-radius: 8px;
    transition: 0.3s;
  }
  .btn:hover {
    background: #ff4500;
  }

  /* ‚úÖ CONTACTO */
.contacto {
  padding: 50px 20px;
  text-align: center;    /* centra texto y redes */
  background: transparent;
  color: #4CAF50;
}

.contacto h2 {
  margin-bottom: 20px;
  font-size: 2rem;
}

.contacto p {
  font-size: 1.2rem;
  margin: 10px 0;
}

.redes {
  margin-top: 20px;
}

.redes a {
  margin: 10px;
  font-size: 28px;
  color: #4CAF50;
  transition: 0.3s;
}

.redes a:hover {
  color: #ff6600;
  transform: scale(1.2);
}

.contacto-btn {
  background: white;
  color: #4CAF50;
  border: none;
  padding: 10px 20px;
  margin: 5px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  transition: all 0.3s ease;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  text-decoration: none; /* quitar subrayado */
}

.contacto-btn:hover {
  background: #3d8f40;
  color: white;
  transform: scale(1.05);
}

</style>
</head>
<body>
<header>
  <img src="logo.jpeg" alt="Juice Vidda Logo">
  <h1>Bienvenido a Juice Vidda üçπ</h1>
 <a href="#hero" class="scroll-btn">Con√≥cenos</a>
</header>

<!-- ‚úÖ PORTADA -->
<section class="hero">
  <div class="hero-content">
    <h1>Nosotros</h1>
    <p>Te proporcionamos una alternativa saludable a las bebidas procesadas, aportando vitaminas, minerales, antioxidantes y otros micronutrientes que fortalecen el sistema inmunol√≥gico, mejoran la hidrataci√≥n y apoyan la desintoxicaci√≥n del cuerpo. Adem√°s, pueden facilitar el consumo de frutas y verduras, ofrecer un descanso al sistema digestivo y contribuir a una dieta equilibrada al impulsar la saciedad y reducir los antojos. </p>
   <a href="#contacto" class="contacto-btn"><i class="fa fa-phone"></i> Cont√°ctanos</a>
  </div>
</section>

<nav>
  <button onclick="mostrar('productos')"><i class="fa fa-list"></i> Men√∫</button>
  <button onclick="mostrar('login')"><i class="fa fa-user-plus"></i> Crear Cuenta</button>
  <button id="btnPerfil" onclick="mostrarPerfil()" style="display:none;"><i class="fa fa-user"></i> Perfil</button>
  <button onclick="mostrar('carrito')"><i class="fa fa-shopping-cart"></i> Carrito</button>
</nav>

<!-- Productos -->
<div id="productos">
  <h2>Nuestros Jugos</h2>
  <div class="carrusel" id="carrusel">
    <!-- productos existentes -->
    <div class="producto">
      <img src="jugodepi√±ayjengibre.jpeg" alt="Jugo 1">
      <h3>Jugo de Pi√±a y Jengibre</h3>
      <p>Q15.00</p>
      <p>Stock: <span id="stock1">100</span></p>
      <input type="number" id="cant1" value="1" min="1">
      <button onclick="agregarCarrito('Jugo de Pi√±a y Jengibre',15,'cant1')">Agregar</button>
    </div>
    <div class="producto">
      <img src="jugodemango.jpeg" alt="Jugo 2">
      <h3>Jugo de Mango</h3>
      <p>Q15.00</p>
      <p>Stock: <span id="stock2">100</span></p>
      <input type="number" id="cant2" value="1" min="1">
      <button onclick="agregarCarrito('Jugo de Mango',15,'cant2')">Agregar</button>
    </div>
    <div class="producto">
      <img src="jugodefrutas.jpeg" alt="Jugo 3">
      <h3>Jugo de Frutas</h3>
      <p>Q20.00</p>
      <p>Stock: <span id="stock3">75</span></p>
      <input type="number" id="cant3" value="1" min="1">
      <button onclick="agregarCarrito('Jugo de Frutas',20,'cant3')">Agregar</button>
    </div>
    <div class="producto">
      <img src="limonada.jpeg" alt="Jugo 4">
      <h3>Limonada</h3>
      <p>Q10.00</p>
      <p>Stock: <span id="stock4">15</span></p>
      <input type="number" id="cant4" value="1" min="1">
      <button onclick="agregarCarrito('Limonada',10,'cant4')">Agregar</button>
    </div>
  </div>
</div>

<!-- Crear cuenta -->
<div id="login">
  <h2>Crear Cuenta</h2>
  <form onsubmit="registrarUsuario(event)">
    <label>Nombre:</label><br>
    <input type="text" id="nombreUsuario" required><br><br>
    <label>Email:</label><br>
    <input type="email" id="emailUsuario" required><br><br>
    <label>Contrase√±a:</label><br>
    <input type="password" id="passUsuario" required><br><br>
    <button type="submit">Registrarme</button>
  </form>
</div>

<!-- Perfil -->
<div id="perfil">
  <h2>Perfil</h2>
  <p>Nombre: <span id="nombre-perfil"></span></p>
  <p>N√∫mero de compras: <span id="numero-compras">0</span></p>
  <label>Foto de perfil:</label><br>
  <input type="file" id="fotoPerfil" accept="image/*"><br><br>
  <div id="recuadro-foto">
    <img id="foto-perfil-mostrar" src="" alt="Tu Foto">
  </div>
  <br>
  <button onclick="cerrarSesion()">Cerrar Sesi√≥n</button>
</div>

<!-- Carrito -->
<div id="carrito">
  <h2>Carrito</h2>
  <ul id="lista-carrito"></ul>
  <p><strong>Total:</strong> Q<span id="total">0.00</span></p>
  <button onclick="procesarPago()">Proceder al Pago</button>
</div>

<!-- Pantalla de pago -->
<div id="pago">
  <h2>Pantalla de Pago</h2>
  <p>Gracias por tu compra üõí</p>
  <p><strong>N√∫mero de Compra:</strong> <span id="numero-compra"></span></p>
  <p><strong>Total:</strong> Q<span id="total-pago">0.00</span></p>
  <h3>Productos Relacionados üçπ</h3>
  <div class="recomendaciones" id="recomendaciones"></div>
</div>

<!-- ‚úÖ CONTACTO -->
<section id="contacto" class="contacto">
  <p><strong>Tel√©fono:</strong> +502 1234 5678</p>
  <p><strong>Correo:</strong> contacto@juicevidda.com</p>
  <div class="redes">
    <a href="#"><i class="fab fa-facebook"></i></a>
    <a href="#"><i class="fab fa-instagram"></i></a>
    <a href="#"><i class="fab fa-x-twitter"></i></a>
  </div>
</section>

<!-- Mensaje flotante -->
<div id="mensaje-carrito">Producto agregado al carrito</div>
<script>
let productosDisponibles = [
  { nombre:"Jugo de Pi√±a y Jengibre",precio:15,stock:100,idCantidad:"cant1" },
  { nombre:"Jugo de Mango",precio:15,stock:100,idCantidad:"cant2" },
  { nombre:"Jugo de Frutas",precio:20,stock:75,idCantidad:"cant3" },
  { nombre:"Limonada",precio:10,stock:15,idCantidad:"cant4" }
];

let carrito=[], total=0;

  document.querySelector(".scroll-btn").addEventListener("click", function(e) {
    e.preventDefault();
    document.querySelector(".hero").scrollIntoView({ behavior: "smooth" });
  });

function mostrar(seccion){
  ["productos","login","carrito","pago","perfil"].forEach(s=>document.getElementById(s).style.display="none");
  document.getElementById(seccion).style.display="block";
}

function agregarCarrito(nombre,precio,idCantidad){
  let prod = productosDisponibles.find(p=>p.nombre===nombre);
  let cantidad = parseInt(document.getElementById(idCantidad).value);
  if(cantidad<=0) cantidad=1;
  if(cantidad>prod.stock){ alert(`No hay suficiente stock. Stock disponible: ${prod.stock}`); return; }

  carrito.push({ nombre, precio, cantidad });
  prod.stock -= cantidad;
  document.getElementById("stock"+idCantidad.slice(-1)).textContent = prod.stock;
  mostrarCarrito();
  mostrarMensaje();
}

function mostrarCarrito() {
  let lista = document.getElementById("lista-carrito");
  lista.innerHTML = "";
  total = 0;

  carrito.forEach((item, index) => {
    let li = document.createElement("li");
    li.textContent = `${item.cantidad}x ${item.nombre} - Q${(item.precio * item.cantidad).toFixed(2)}`;

    let btnEliminar = document.createElement("button");
    btnEliminar.textContent = "‚ùå";
    btnEliminar.style.marginLeft = "10px";
    btnEliminar.onclick = () => eliminarDelCarrito(index);

    li.appendChild(btnEliminar);
    lista.appendChild(li);

    total += item.precio * item.cantidad;
  });

  // Mostrar total en el carrito
  document.getElementById("total").textContent = total.toFixed(2);

  // GUARDAR EL TOTAL para usar luego en la pantalla de pago
  // (lo guardamos como n√∫mero/ string para evitar problemas)
  localStorage.setItem("totalCompra", total.toFixed(2));
}

function eliminarDelCarrito(index){
  let item=carrito[index];
  let prod=productosDisponibles.find(p=>p.nombre===item.nombre);
  prod.stock+=item.cantidad;
  document.getElementById("stock"+prod.idCantidad.slice(-1)).textContent=prod.stock;
  carrito.splice(index,1);
  mostrarCarrito();
}

function registrarUsuario(e){
  e.preventDefault();
  let nombre=document.getElementById("nombreUsuario").value;
  let usuario = { nombre, foto:"", compras:[] };
  localStorage.setItem(nombre, JSON.stringify(usuario));
  localStorage.setItem("usuarioActual", nombre);
  document.getElementById("nombre-perfil").textContent=nombre;
  document.getElementById("btnPerfil").style.display="inline-flex";
  alert("Usuario registrado y sesi√≥n iniciada");
  mostrar("productos");
}

function mostrarPerfil(){
  const usuarioActual=localStorage.getItem("usuarioActual");
  if(usuarioActual){
    const usuario=JSON.parse(localStorage.getItem(usuarioActual));
    document.getElementById("nombre-perfil").textContent=usuario.nombre;
    document.getElementById("numero-compras").textContent=usuario.compras.length;
    if(usuario.foto){
      const img=document.getElementById("foto-perfil-mostrar");
      img.src=usuario.foto; img.style.display="block";
    }
    mostrar("perfil");
  }
}

document.getElementById("fotoPerfil").addEventListener("change",function(e){
  const file=e.target.files[0];
  if(file){
    const reader=new FileReader();
    reader.onload=function(ev){
      const img=document.getElementById("foto-perfil-mostrar");
      img.src=ev.target.result; img.style.display="block";
      const usuario=JSON.parse(localStorage.getItem(localStorage.getItem("usuarioActual")));
      usuario.foto=ev.target.result;
      localStorage.setItem(usuario.nombre,JSON.stringify(usuario));
    }
    reader.readAsDataURL(file);
  }
});

function cerrarSesion(){
  localStorage.removeItem("usuarioActual");
  document.getElementById("btnPerfil").style.display="none";
  alert("Sesi√≥n cerrada");
  mostrar("productos");
}

function mostrarMensaje(){
  const m=document.getElementById("mensaje-carrito");
  m.style.display="block";
  setTimeout(()=>{ m.style.display="none"; },2000);
}

function generarNumeroCompra(){ return 'C'+Math.floor(100000+Math.random()*900000); }

  function procesarPago() {
  if (carrito.length === 0) {
    alert("No hay productos en el carrito");
    return;
  }

  // Recuperar total guardado (fallback: calcular desde carrito)
  const totalGuardado = parseFloat(localStorage.getItem("totalCompra"));
  const totalDesdeCarrito = carrito.reduce((s, it) => s + it.precio * it.cantidad, 0);
  const totalCompra = !isNaN(totalGuardado) ? totalGuardado : totalDesdeCarrito;

  // Mostrar pantalla de pago y datos
  mostrar("pago");
  cargarRecomendaciones();

  const numeroCompra = generarNumeroCompra();
  document.getElementById("numero-compra").textContent = numeroCompra;
  document.getElementById("total-pago").textContent = totalCompra.toFixed(2); // üëà Se muestra ANTES de limpiar

  // Guardar la compra si hay usuario logueado
  const usuarioActual = localStorage.getItem("usuarioActual");
  if (usuarioActual) {
    const usuario = JSON.parse(localStorage.getItem(usuarioActual));
    usuario.compras.push({ numero: numeroCompra, total: totalCompra, productos: [...carrito] });
    localStorage.setItem(usuarioActual, JSON.stringify(usuario));
    document.getElementById("numero-compras").textContent = usuario.compras.length;
  }

  // üëá Limpiar carrito y localStorage despu√©s de 1 segundo
  setTimeout(() => {
    carrito = [];
    total = 0;
    mostrarCarrito();
    localStorage.removeItem("totalCompra");
  }, 1000);
}



function cargarRecomendaciones(){
  let cont=document.getElementById("recomendaciones");
  cont.innerHTML="";
  let prods=productosDisponibles.sort(()=>0.5-Math.random()).slice(0,2);
  prods.forEach(p=>{
    let div=document.createElement("div");
    div.className="producto";
    div.innerHTML=`<img src="${p.nombre.includes('Pi√±a')?'jugodepi√±ayjengibre.jpeg':p.nombre.includes('Mango')?'jugodemango.jpeg':p.nombre.includes('Frutas')?'jugodefrutas.jpeg':'limonada.jpeg'}" alt="${p.nombre}">
    <h3>${p.nombre}</h3><p>Q${p.precio}</p>`;
    cont.appendChild(div);
  });
}

window.onload=function(){
  const usuarioActual=localStorage.getItem("usuarioActual");
  if(usuarioActual){ mostrarPerfil(); document.getElementById("btnPerfil").style.display="inline-flex"; }
  else mostrar("productos");
}

let header = document.querySelector("header");

window.addEventListener("scroll", () => {
  if (window.scrollY > 50) {
    header.classList.add("oculto");  // Se oculta cuando bajas
  } else {
    header.classList.remove("oculto"); // Vuelve a aparecer al subir
  }
});

</script>
</body>
</html>

 
